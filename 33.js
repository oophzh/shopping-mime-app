(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{j3zA:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),u=e("mrSG"),r=e("ZZ/e"),i=e("AwSQ"),a=e("8cFx"),o=e("cdBk"),s=e("Pn9U"),c=e("Yttj"),g=function(){function n(n,l,e,t,u,r,i,a){var o=this;this.dataService=n,this.commonService=l,this.translate=e,this.nav=t,this.actionSheetController=u,this.camera=r,this.imagePicker=i,this.webview=a,this.firstName="",this.lastName="",this.genderList=[{name:"Female",value:"0",selected:!0},{name:"Male",value:"1",selected:!1}],this.currentGender=this.genderList[0],this.userLogo="../../../assets/images/default_user_head.png",this.translate.get(["LoginGenderFemale","LoginGenderMale","LoginSignIn","LoginSignUp"]).subscribe(function(n){o.genderList[0].name=n.LoginGenderFemale,o.genderList[1].name=n.LoginGenderMale})}return n.prototype.ngOnInit=function(){if(localStorage.userInfo){var n=JSON.parse(localStorage.userInfo);this.firstName=n.firstName,this.lastName=n.lastName;for(var l=0;l<this.genderList.length;l++){var e=this.genderList[l];n.sex==e.value?(e.selected=!0,this.currentGender=e):e.selected=!1}}},n.prototype.selectedGender=function(n){for(var l=0;l<this.genderList.length;l++){var e=this.genderList[l];l==n?(e.selected=!0,this.currentGender=e):e.selected=!1}},n.prototype.changeUserInfo=function(){var n=this;if(this.firstName)if(this.lastName){var l=this;this.dataService.userInfoModify(this.firstName,this.lastName,this.currentGender.value,function(n){var e=JSON.parse(localStorage.userInfo);e.firstName=l.firstName,e.lastName=l.lastName,e.sex=l.currentGender.value,localStorage.userInfo=JSON.stringify(e),l.translate.get("CommonSuccess").subscribe(function(n){l.commonService.presentToast(n)}),l.commonService.gotoMine()},null)}else this.translate.get("LastNameNull").subscribe(function(l){n.commonService.presentToast(l)});else this.translate.get("FirstNameNull").subscribe(function(l){n.commonService.presentToast(l)})},n.prototype.showAvatarSheet=function(){return u.b(this,void 0,void 0,function(){var n;return u.e(this,function(l){switch(l.label){case 0:return n=this,[4,this.actionSheetController.create({buttons:[{text:"Camera",handler:function(){console.log("Camera"),n.takePicture()}},{text:"Gallery",handler:function(){console.log("Gallery"),n.choosePicture()}},{text:"Cancel",role:"cancel",handler:function(){console.log("Cancel clicked")}}]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[2]}})})},n.prototype.takePicture=function(){var n=this;this.camera.getPicture({quality:100,sourceType:this.camera.PictureSourceType.CAMERA,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(function(l){console.log(l),l&&(n.userLogo=n.webview.convertFileSrc(l))},function(n){console.log("\u83b7\u53d6\u56fe\u7247\u5931\u8d25")})},n.prototype.choosePicture=function(){var n=this;this.imagePicker.getPictures({maximumImagesCount:1}).then(function(l){for(var e=0;e<l.length;e++)console.log("Image URI: "+l[e]),n.userLogo=n.webview.convertFileSrc(l[e])},function(n){console.log("\u83b7\u53d6\u56fe\u7247\u5931\u8d25")})},n}(),b=function(){return function(){}}(),m=e("pMnS"),d=e("oBZk"),h=e("Ip0R"),p=e("A7o+"),f=e("gIcY"),C=t.ob({encapsulation:0,styles:[[".user-header-wrap[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;flex-direction:row;padding:.5rem .2rem .5rem 0;color:#333;font-size:.7rem;margin-left:.8rem;border-bottom:1px solid #ccc;display:none}.user-header-wrap[_ngcontent-%COMP%]   .user-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.user-header-wrap[_ngcontent-%COMP%]   .user-header[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:2rem;height:2rem}.user-header-wrap[_ngcontent-%COMP%]   .user-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#999;font-size:1rem;margin-left:.3rem}.name-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .name-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.7rem;color:#333}.change-btn[_ngcontent-%COMP%]{margin:.5rem;background:#ea5455;border-radius:3px;text-align:center;padding:.5rem;color:#fff;font-size:.7rem}.gender-item-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.6rem;margin-left:.8rem;border-bottom:1px solid #ccc;padding:.5rem 0}.gender-item-wrap[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.7rem;color:#333;margin-right:1rem}.gender-item-wrap[_ngcontent-%COMP%]   .gender-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin:.25rem 1rem .25rem 0}.gender-item-wrap[_ngcontent-%COMP%]   .gender-item[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#ea5455}.gender-item-wrap[_ngcontent-%COMP%]   .gender-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8rem;margin-right:.25rem;color:#999}"]],data:{}});function v(n){return t.Kb(0,[(n()(),t.qb(0,0,null,null,7,"div",[["class","gender-item"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.selectedGender(n.context.index)&&t),t},null,null)),(n()(),t.qb(1,0,null,null,3,"ion-icon",[["name","checkmark-circle"]],null,null,null,d.P,d.j)),t.pb(2,278528,null,0,h.h,[t.s,t.t,t.k,t.E],{ngClass:[0,"ngClass"]},null),t.Db(3,{selected:0}),t.pb(4,49152,null,0,r.D,[t.h,t.k],{name:[0,"name"]},null),(n()(),t.qb(5,0,null,null,2,"ion-label",[],null,null,null,d.W,d.q)),t.pb(6,49152,null,0,r.O,[t.h,t.k],null,null),(n()(),t.Ib(7,0,["",""]))],function(n,l){var e=n(l,3,0,l.context.$implicit.selected);n(l,2,0,e),n(l,4,0,"checkmark-circle")},function(n,l){n(l,7,0,l.context.$implicit.name)})}function k(n){return t.Kb(0,[(n()(),t.qb(0,0,null,null,12,"ion-header",[],null,null,null,d.O,d.i)),t.pb(1,49152,null,0,r.C,[t.h,t.k],null,null),(n()(),t.qb(2,0,null,0,10,"ion-toolbar",[],null,null,null,d.lb,d.F)),t.pb(3,49152,null,0,r.Cb,[t.h,t.k],null,null),(n()(),t.qb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,d.K,d.e)),t.pb(5,49152,null,0,r.m,[t.h,t.k],null,null),(n()(),t.qb(6,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==t.Ab(n,8).onClick(e)&&u),u},d.I,d.c)),t.pb(7,49152,null,0,r.h,[t.h,t.k],null,null),t.pb(8,16384,null,0,r.i,[[2,r.ib],r.Ib],null,null),(n()(),t.qb(9,0,null,0,3,"ion-title",[],null,null,null,d.kb,d.E)),t.pb(10,49152,null,0,r.Ab,[t.h,t.k],null,null),(n()(),t.Ib(11,0,["",""])),t.Cb(131072,p.i,[p.j,t.h]),(n()(),t.qb(13,0,null,null,51,"ion-content",[],null,null,null,d.L,d.f)),t.pb(14,49152,null,0,r.v,[t.h,t.k],null,null),(n()(),t.qb(15,0,null,0,9,"div",[["class","user-header-wrap"]],null,null,null,null,null)),(n()(),t.qb(16,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t.Ib(17,null,["",""])),t.Cb(131072,p.i,[p.j,t.h]),(n()(),t.qb(19,0,null,null,5,"div",[["class","user-header"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.showAvatarSheet()&&t),t},null,null)),(n()(),t.qb(20,0,null,null,2,"ion-avatar",[],null,null,null,d.H,d.b)),t.pb(21,49152,null,0,r.g,[t.h,t.k],null,null),(n()(),t.qb(22,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),t.qb(23,0,null,null,1,"ion-icon",[["name","arrow-forward"]],null,null,null,d.P,d.j)),t.pb(24,49152,null,0,r.D,[t.h,t.k],{name:[0,"name"]},null),(n()(),t.qb(25,0,null,0,14,"ion-item",[["class","name-item"]],null,null,null,d.V,d.n)),t.pb(26,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.qb(27,0,null,0,3,"ion-label",[["position","floating"]],null,null,null,d.W,d.q)),t.pb(28,49152,null,0,r.O,[t.h,t.k],{position:[0,"position"]},null),(n()(),t.Ib(29,0,["",""])),t.Cb(131072,p.i,[p.j,t.h]),(n()(),t.qb(31,0,null,0,8,"ion-input",[["clearInput",""],["name","firstname"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var u=!0,r=n.component;return"ionBlur"===l&&(u=!1!==t.Ab(n,34)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==t.Ab(n,34)._handleInputEvent(e.target.value)&&u),"ngModelChange"===l&&(u=!1!==(r.firstName=e)&&u),u},d.S,d.m)),t.pb(32,16384,null,0,f.k,[],{required:[0,"required"]},null),t.Fb(1024,null,f.f,function(n){return[n]},[f.k]),t.pb(34,16384,null,0,r.Pb,[t.k],null,null),t.Fb(1024,null,f.g,function(n){return[n]},[r.Pb]),t.pb(36,671744,null,0,f.j,[[8,null],[6,f.f],[8,null],[6,f.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Fb(2048,null,f.h,null,[f.j]),t.pb(38,16384,null,0,f.i,[[4,f.h]],null,null),t.pb(39,49152,null,0,r.H,[t.h,t.k],{clearInput:[0,"clearInput"],name:[1,"name"],required:[2,"required"]},null),(n()(),t.qb(40,0,null,0,14,"ion-item",[["class","name-item"]],null,null,null,d.V,d.n)),t.pb(41,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.qb(42,0,null,0,3,"ion-label",[["position","floating"]],null,null,null,d.W,d.q)),t.pb(43,49152,null,0,r.O,[t.h,t.k],{position:[0,"position"]},null),(n()(),t.Ib(44,0,["",""])),t.Cb(131072,p.i,[p.j,t.h]),(n()(),t.qb(46,0,null,0,8,"ion-input",[["clearInput",""],["name","lastname"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var u=!0,r=n.component;return"ionBlur"===l&&(u=!1!==t.Ab(n,49)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==t.Ab(n,49)._handleInputEvent(e.target.value)&&u),"ngModelChange"===l&&(u=!1!==(r.lastName=e)&&u),u},d.S,d.m)),t.pb(47,16384,null,0,f.k,[],{required:[0,"required"]},null),t.Fb(1024,null,f.f,function(n){return[n]},[f.k]),t.pb(49,16384,null,0,r.Pb,[t.k],null,null),t.Fb(1024,null,f.g,function(n){return[n]},[r.Pb]),t.pb(51,671744,null,0,f.j,[[8,null],[6,f.f],[8,null],[6,f.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Fb(2048,null,f.h,null,[f.j]),t.pb(53,16384,null,0,f.i,[[4,f.h]],null,null),t.pb(54,49152,null,0,r.H,[t.h,t.k],{clearInput:[0,"clearInput"],name:[1,"name"],required:[2,"required"]},null),(n()(),t.qb(55,0,null,0,6,"div",[["class","gender-item-wrap"]],null,null,null,null,null)),(n()(),t.qb(56,0,null,null,3,"ion-label",[["class","label"]],null,null,null,d.W,d.q)),t.pb(57,49152,null,0,r.O,[t.h,t.k],null,null),(n()(),t.Ib(58,0,["",""])),t.Cb(131072,p.i,[p.j,t.h]),(n()(),t.hb(16777216,null,null,1,null,v)),t.pb(61,278528,null,0,h.i,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null),(n()(),t.qb(62,0,null,0,2,"div",[["class","change-btn"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.changeUserInfo()&&t),t},null,null)),(n()(),t.Ib(63,null,["",""])),t.Cb(131072,p.i,[p.j,t.h])],function(n,l){var e=l.component;n(l,24,0,"arrow-forward"),n(l,28,0,"floating"),n(l,32,0,""),n(l,36,0,"firstname",e.firstName),n(l,39,0,"","firstname",""),n(l,43,0,"floating"),n(l,47,0,""),n(l,51,0,"lastname",e.lastName),n(l,54,0,"","lastname",""),n(l,61,0,e.genderList)},function(n,l){var e=l.component;n(l,11,0,t.Jb(l,11,0,t.Ab(l,12).transform("SettingChangeUserInfo"))),n(l,17,0,t.Jb(l,17,0,t.Ab(l,18).transform("SettingAvatar"))),n(l,22,0,e.userLogo),n(l,29,0,t.Jb(l,29,0,t.Ab(l,30).transform("SettingFirstName"))),n(l,31,0,t.Ab(l,32).required?"":null,t.Ab(l,38).ngClassUntouched,t.Ab(l,38).ngClassTouched,t.Ab(l,38).ngClassPristine,t.Ab(l,38).ngClassDirty,t.Ab(l,38).ngClassValid,t.Ab(l,38).ngClassInvalid,t.Ab(l,38).ngClassPending),n(l,44,0,t.Jb(l,44,0,t.Ab(l,45).transform("SettingLastName"))),n(l,46,0,t.Ab(l,47).required?"":null,t.Ab(l,53).ngClassUntouched,t.Ab(l,53).ngClassTouched,t.Ab(l,53).ngClassPristine,t.Ab(l,53).ngClassDirty,t.Ab(l,53).ngClassValid,t.Ab(l,53).ngClassInvalid,t.Ab(l,53).ngClassPending),n(l,58,0,t.Jb(l,58,0,t.Ab(l,59).transform("LoginGender"))),n(l,63,0,t.Jb(l,63,0,t.Ab(l,64).transform("CommonSave")))})}function P(n){return t.Kb(0,[(n()(),t.qb(0,0,null,null,1,"app-change-user-info",[],null,null,null,k,C)),t.pb(1,114688,null,0,g,[i.a,a.a,p.j,r.Ib,r.a,s.a,o.a,c.a],null,null)],function(n,l){n(l,1,0)},null)}var q=t.mb("app-change-user-info",g,P,{},{},[]),y=e("ZYCi");e.d(l,"ChangeUserInfoPageModuleNgFactory",function(){return M});var M=t.nb(b,[],function(n){return t.xb([t.yb(512,t.j,t.cb,[[8,[m.a,q]],[3,t.j],t.x]),t.yb(4608,h.l,h.k,[t.u,[2,h.r]]),t.yb(4608,f.m,f.m,[]),t.yb(4608,r.c,r.c,[t.z,t.g]),t.yb(4608,r.Hb,r.Hb,[r.c,t.j,t.q,h.c]),t.yb(4608,r.Mb,r.Mb,[r.c,t.j,t.q,h.c]),t.yb(1073742336,h.b,h.b,[]),t.yb(1073742336,f.l,f.l,[]),t.yb(1073742336,f.c,f.c,[]),t.yb(1073742336,r.Eb,r.Eb,[]),t.yb(1073742336,y.o,y.o,[[2,y.u],[2,y.m]]),t.yb(1073742336,p.g,p.g,[]),t.yb(1073742336,b,b,[]),t.yb(1024,y.k,function(){return[[{path:"",component:g}]]},[])])})}}]);